# QRkot_spreadseets

## Описание

QRKot – это приложение для благотворительного фонда поддержки котиков, который собирает пожертвования на различные целевые проекты. Проекты могут включать медицинское обслуживание, обустройство кошачьей колонии и обеспечение кормом для безнадзорных котов.

Проекты открываются по мере необходимости, и фонд реализует систему пожертвований на основе принципа "Первый пришел — первый вышел" (FIFO).

С недавними обновлениями приложение теперь также поддерживает формирование отчетов в Google Таблицах. Для формирования отчета используйте префикс `/google/`.

## Функции

- **Управление проектами:** Создание и описание целевых проектов с суммой, которую необходимо собрать.
- **Система пожертвований:** Пользователи могут делать пожертвования, которые автоматически распределяются по активным проектам.
- **Автоматическое распределение средств:** Пожертвования добавляются в проект, открытый раньше других, и вносятся в фонд, а не на конкретный проект.
- **Закрытие проектов:** После достижения запланированной суммы проект автоматически закрывается.
- **Формирование отчетов в Google Таблицах:** Генерация отчетов о проектах и пожертвованиях с использованием Google Sheets.

## Архитектура

Приложение построено на асинхронной архитектуре и использует следующие технологии:

- **FastAPI** для создания API.
- **SQLAlchemy** для работы с базой данных.
- **Pydantic** для валидации данных.
- **Alembic** для управления миграциями.
- **SQLite** (или любая другая база данных, поддерживаемая SQLAlchemy) для хранения данных.
- **Google API Client** для взаимодействия с Google Таблицами.

## Установка

1. Клонируйте репозиторий:

   
bash
git clone git@github.com:pullveryzator/QRkot_spreadsheets.git
cd QRkot_spreadsheets


2. Установите зависимости:

   
bash
pip install -r requirements.txt


3. Настройте параметры вашей базы данных и учетные данные Google API в файле `.env` по образцу в .env_example

4. Запустите приложение:

   
bash
uvicorn app.main:app --reload


## Использование

### Создание проекта

Для создания нового благотворительного проекта используйте POST запрос:

http
POST /projects
Content-Type: application/json

{
"title": "Название проекта",
"description": "Описание проекта",
"full_amount": 5000
}


### Создание пожертвования

Для создания нового пожертвования используйте POST запрос:

http
POST /donations
Content-Type: application/json

{
"amount": 500,
"comment": "На помощь кошечкам!"
}


### Формирование отчета в Google Таблицах

Для генерации отчета по проектам и пожертвованиям используйте POST запрос:

http
POST /google


## Тестирование

Для запуска тестов используйте:

bash
pytest


## Лицензия

Этот проект лицензируется под MIT License - подробности смотрите в файле [LICENSE](LICENSE).

## Контрибьюции

Если вы хотите внести свой вклад в проект, пожалуйста, создайте запрос на слияние или откройте проблему.

## Контакты

Если у вас есть вопросы или предложения, вы можете связаться со мной по электронной почте: [madlion@mail.ru]